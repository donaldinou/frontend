{% form_theme form with ['VitelogeFrontendBundle:Form:fields.html.twig'] %}

{%- block form_start -%}
{{ form_start(form, {'attr': {'enctype': 'application/x-www-form-urlencoded','class': 'recommand', 'data-role': 'recommand', 'novalidate': 'novalidate'}}) }}
{%- endblock form_start -%}
    {%- block form_errors -%}
        {{ form_errors(form) }}
    {%- endblock form_errors -%}
    {%- block form_fields -%}
        <div class="hidden">
            {%- if form._token is defined -%}
                {{ form_row(form._token) }}
            {%- endif -%}
        </div>
        {{ form_row(form.firstname, {
            'label_attr': {
                'class': 'sr-only'
            },
            'attr': {
                'class': '',
                'placeholder': 'recommand.firstname',
                'data-placeholder' : 'recommand.firstname'|trans(),
                'autocomplete': 'on',
                'spellcheck': 'off',
                'maxlength': 64
            }
        }) }}
        {{ form_row(form.lastname, {
            'label_attr': {
                'class': 'sr-only'
            },
            'attr': {
                'class': '',
                'placeholder': 'recommand.lastname',
                'data-placeholder' : 'recommand.lastname'|trans(),
                'autocomplete': 'on',
                'spellcheck': 'off',
                'maxlength': 64
            }
        }) }}
        {{ form_row(form.email, {
            'label_attr': {
                'class': 'sr-only'
            },
            'attr': {
                'class': '',
                'placeholder': 'recommand.email',
                'data-placeholder' : 'recommand.email'|trans(),
                'autocomplete': 'on',
                'spellcheck': 'off',
                'maxlength': 128
            }
        }) }}
        {{ form_row(form.message, {
            'label_attr': {
                'class': 'sr-only'
            },
            'attr': {
                'class': '',
                'placeholder': 'recommand.message',
                'data-placeholder' : 'recommand.message'|trans(),
                'autocomplete': 'off',
                'spellcheck': 'off',
                'maxlength': 250
            }
        }) }}
        <div class="btn-toolbar pull-right" role="toolbar">
            <div class="btn-group" role="group" aria-label="{% trans %}viteloge.actions{% endtrans %}">
                <button type="button" class="btn btn-default add-field" data-target="#viteloge_frontend_recommand_emails" data-limit="10" aria-label="{% trans %}viteloge.add{% endtrans %}"><span class="fa fa-plus-circle" aria-hidden="true"></span></button>
            </div>
        </div>
        <div class="form-group">
            {{ form_label(form.emails, null, {
                'label_attr': {
                    'class': 'sr-only'
                }
            }) }}
            {{ form_errors(form.emails) }}
            {% set loop = { index : 1 } %}
            {% set prototype_options = {
                'input_group': {
                    'type': 'remove',
                    'attr': {
                        'data-target': "#viteloge_frontend_recommand_emails",
                        'data-minus': 1
                    }
                },
                'label_attr': {
                    'class': 'sr-only'
                },
                'attr': {
                    'class': '',
                    'placeholder': 'recommand.emails',
                    'data-placeholder' : 'recommand.emails'|trans()~' '~loop.index,
                    'autocomplete': 'off',
                    'spellcheck': 'off',
                    'maxlength': 250
                }
            } %}
            <div class="col-sm-12">
                {% set prototype = form_row(form.emails.vars.prototype, prototype_options) %}
                <div id="viteloge_frontend_recommand_emails" class="" data-prototype="{{ prototype|e }}">
                    {% for key, emailField in form.emails %}
                        {{ form_row(emailField, prototype_options) }}
                    {% else %}
                        {{ form_widget(form.emails) }}
                        {{ prototype|replace({'__name__': '0'})|raw }}
                    {% endfor %}
                </div>
            </div>
        </div>
        {{ form_row(form.recaptcha, {
            'label_attr': {
                'class': 'sr-only'
            }
        }) }}
        {{ form_row(form.send, {
            'label': 'recommand.action.send',
            'span_class': 'fa fa-send',
            'label_attr': {
                'class': 'sr-only'
            },
            'attr': {
                'class': 'btn btn-primary btn-block text-uppercase',
                'role': 'button'
            }
        }) }}
    {%- endblock form_fields -%}
{%- block form_end -%}
{{ form_end(form) }}
{%- endblock form_end -%}
