
$support-media-queries: true !default;
@import '../../../../FrontendBundle/Resources/public/scss/def_assets.scss';
@import "../../../../FrontendBundle/Resources/public/scss/foundation/variables.scss";
@import '../../../../FrontendBundle/Resources/public/scss/variables.scss';
@import '../../../../FrontendBundle/Resources/public/scss/media.scss';
@import "../../../../FrontendBundle/Resources/public/scss/foundation/components/global.scss";
@import '../../../../FrontendBundle/Resources/public/scss/foundation/components/grid.scss';
@import '../../../../FrontendBundle/Resources/public/scss/foundation/components/block-grid.scss';
@import '../../../../FrontendBundle/Resources/public/scss/font-awesome/variables.scss';
@import '../../../../FrontendBundle/Resources/public/scss/font-awesome/core.scss';

body.estimation {
    .contact_wrapper, .only {
        display: none;
        &.required { display: block; }
    }

   .select2-container {
       .select2-choice {
           height: 2em;
           border: 1px solid $background_pagination;
           .select2-arrow {
               background-color: $background_pagination;
               background-image: none;
               b {
                   background: url($select2_path);
               }
           }
       }
    }
   .select2-search input {
       background: #fff url($select2_path) no-repeat 100% -22px;
       background: url($select2_path) no-repeat 100% -22px, -webkit-gradient(linear, left bottom, left top, color-stop(0.85, #fff), color-stop(0.99, #eee));
       background: url($select2_path) no-repeat 100% -22px, -webkit-linear-gradient(center bottom, #fff 85%, #eee 99%);
       background: url($select2_path) no-repeat 100% -22px, -moz-linear-gradient(center bottom, #fff 85%, #eee 99%);
       background: url($select2_path) no-repeat 100% -22px, linear-gradient(to bottom, #fff 85%, #eee 99%) 0 0;
   }
   .select2-drop {
       border-color: $background_pagination;
   }

   fieldset.nolegend {
       padding-top: 0.75em;
   }

    fieldset {
        position: relative;
        padding-top: 2.5em;
        legend {
            position: absolute;
            top: 0.5em;
            left: 0.9em;
            color: $background_main_vente;
            font-weight: 1.3em;
        }

        label {
            font-weight: bold;
            
            &.required:after {
                content: " *";
                color: $background_main_vente;
            }
        }

        & > .row > .columns:first-child { padding-left: 0; }
        & > .row > .columns:last-child, .columns.last { padding-right: 0; }

        .field {
            @include grid-row;
            margin-bottom: 0.5em;
            
            .label_wrapper {
                @include grid-column(5);
                padding: 0;
                label { font-weight: bold; }
            }
            .input_wrapper {
                @include grid-column(7);
                padding: 0;
            }

            &.small_input {
                .label_wrapper {
                    @include grid-column(8);
                    padding: 0;
                }
                .input_wrapper {
                    @include grid-column(4);
                    padding: 0;
                }
            } 
            &.small_label {
                .label_wrapper {
                    @include grid-column(4);
                    padding: 0;
                }
                .input_wrapper {
                    @include grid-column(8);
                    padding: 0;
                }
            }
       }
        .field.checkbox {
            .label_wrapper {
                @include grid-column(11);
                padding: 0;
                label.inline { display: inline; }
            }
            .input_wrapper {
                @include grid-column(1);
                padding: 0;
            }
        }

        #estimation_type, #intro_estimation_type, #estimation_ascenseur, #estimation_balcon, #estimation_terrasse, #estimation_demande_agence, #contact_estimation_demande_agence {
            input, label {
                display: inline-block;
            }
            label { margin-left: 0.5em; margin-right: 1.5em; font-weight: normal; }
            label:after { content: ""; }
        }

    }

    h2 {
        color: white;
        background-color: $background_pagination;
        text-align: center;
        text-transform: none;
        padding: 0.5em 0;
        margin: 0;
    }
    .dark {
        color: white;
        label, h3 { color: white; }
        h3{ margin-bottom: 0.5em; }
        h2 { background-color: transparent; }
        background-color: $background_pagination;

        .banner {
            position: absolute;
            width: 181px;
            height: 105px;
            top: 0;
            right: 0;
        }
        .form_with_large_title {
            @include grid-column(11);
        }
        @include media-for($medium-screen) {
            &.invitation {
                .banner { background-image: url($evaluation_banner1_path); }
                background: url($evaluation_background1_path) no-repeat right 50% $background_pagination;
                min-height: 200px;
            }
            &.contact {
                .banner { background-image: url($evaluation_banner2_path); }
                background: url($evaluation_background2_path) no-repeat right 50% $background_pagination;
                min-height: 200px;
            }
            .form_with_large_title {
                @include grid-column(8);
            }
        }
        @include media-for($large-screen) {
            .form_with_large_title {
                @include grid-column(6);
            }
        }
        button.widen { width: 100%; padding-left: 0; padding-right: 0; }
    }
    div.dark { 
        h2 { text-align: left; }
    }

    button.submit {
        padding: 0.5em 2em 0.6em;
        box-shadow: none;
        border: none;
        border-radius: 0.4em;
        text-transform: uppercase;
    }

    .required_explain:before {
        content: "* ";
        color: $background_main_vente;
    }
    .required_explain {
        font-size: 0.8em;
    }
    .map {
        display: none;
        @include media-for($small-screen) {
            display: block;
            height: 300px;
        }
    }

    .price_overlay {
        background-color: $background_main_location;
        padding: 0.2em 0.5em;

        &, h3, p { color: white; text-align: center; }
        p { margin: 0em; line-height: 1.3; }
        p.price { font-size: 2.1rem; font-weight: bold; }
        h3 { 
            background-color: $background_pagination;
            font-size: 1.35rem;
            text-transform: uppercase;
        }

        &:after {
	    top: 50%;
	    border: solid transparent;
	    content: " ";
	    height: 0;
	    width: 0;
	    position: absolute;
	    pointer-events: none;
	    border-color: rgba(136, 183, 213, 0);
	    border-width: 20px;
	    margin-top: -20px;
        }
        
        &#overlay_price_m:after {
	    right: 100%;
            border-right-color: $background_main_location;
        }
        &#overlay_price_a:after {
	    left: 100%;
            border-left-color: $background_main_location;
        }
    }

    .graph {
        width: 100%;
        height: 300px;
        border: 1px solid #ddd;

        .axis path, .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }

        .line {
            fill: none;
            stroke-width: 1.5px;
        }
        .type_a {
            stroke: $background_main_location;
        }
        .type_m {
            stroke: $background_main_vente;
        }

        .x.axis line, .y.axis line {
            stroke: lightgrey;
        }

        .x.axis path {
	    display: none;
	}

        .legend rect.type_a { fill: $background_main_location; }
        .legend rect.type_m { fill: $background_main_vente; }

    }
    
    .pre_framed { margin-bottom: 0; }
    .framed {
        border: 1px solid #ddd;
        border-top: none;
    }
    ul.city_links {
        @include block-grid(2,$block-grid-default-spacing,true);
        margin: 0;
        padding: 0 0 0 1em;
        a { color: $text_color; }
        li:before {
            @extend .fa;
            content: $fa-var-chevron-circle-right;
            margin-left: -1.3em;
            margin-right: 0.5em;
        }
        li { padding-bottom: 0.2em; }
    }
}

body.estimation.resultat {
    h2.computed {
        color: white;
        background-color: $background_pagination;
        text-align: center;
        &:before {
            @extend .fa;
            content: $fa-var-database;
            margin-right: 0.5em;
        }
    }

    .result {
        background-color: $background_main_location;
        color: white;
        padding: 0.5em;
        position: relative;
        p {
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 0;
        }
        &.ask_more:after {
            content: "";
            width:0px;
            height:0px;
            border-left:12px solid transparent;
            border-right:12px solid transparent;
            border-top:12px solid $background_main_location;
            position:absolute;
            bottom:-12px; 
            left: 50%;
            margin-left: -12px;
        }
    }
}